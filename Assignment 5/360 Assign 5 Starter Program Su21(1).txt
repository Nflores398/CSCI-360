//KC03nnnA JOB ,'your name goes here',MSGCLASS=H
//JSTEP01  EXEC PGM=ASSIST
//STEPLIB  DD DSN=KC00NIU.ASSIST.LOADLIB,DISP=SHR
//SYSPRINT DD SYSOUT=*
//SYSIN    DD *
*****************************************************************
*                                                               *
*  YOU FILL IN THE DOCUMENTATION BOX                            *
*                                                               *
*****************************************************************
*
PAYROLL  CSECT
         USING PAYROLL,15     ESTABLISH ADDRESSABILITY ON REG 15
*
         XREAD BUFFER,80      READ WITHHOLDING PERCENTAGE RECORD
*
         BC    B'0100',ENDLOOP   BRANCH TO ENDLOOP IF NO DATA
*                                  
         LA    2,16           GET FED WITHHOLDING PERCENT INTO R2
         LA    3,4            GET STATE WITHHOLDING PERCENT INTO R3
*
         XREAD BUFFER,80      GET FIRST EMPLOYEE RECORD
*
LOOP     BC    B'0100',ENDLOOP   BRANCH TO ENDLOOP IF EOF
*
*
*  HERE IS WHERE THE BODY OF YOUR LOOP WILL BE CODED
*
*
         XPRNT DETAIL,133     PRINT THE EMPLOYEE DETAIL RECORD
*
         XREAD BUFFER,80      READ NEXT EMPLOYEE RECORD
*
         B     LOOP           BRANCH TO TOP OF LOOP TO CHECK EOF
*
ENDLOOP  DS    0H    
*
         BR    14             UNCONDITIONAL RETURN TO CALLER
*
         LTORG        LITERAL ORGANIZATION
*
* THE FOLLOWING 16 LINES ARE THE DEFINITION FOR THE OUTPUT DETAIL
*   LINE FOR EACH EMPLOYEE FOR THE REPORT YOU ARE CREATING.  IT 
*   IS EXACTLY 133 BYTES LONG.  EACH OUTPUT FIELD IS SEPARATED 
*   BY 4 OR 5 BYTES OF EBCDIC SPACES.
*
DETAIL   DC    C'0'   CARRIAGE CONTROL CHARACTER
OEMPID   DS    CL5    OUTPUT FIELD FOR EMPLOYEE ID
         DC    4C' '  SPACES
OEMPNME  DS    CL25   OUTPUT FIELD FOR EMPLOYEE NAME
         DC    4C' '  SPACES
OPAYRATE DS    CL12   OUTPUT FIELD FOR XDECO OF EMPLOYEE PAY RATE
         DC    4C' '  SPACES
OHOURS   DS    CL12   OUTPUT FIELD FOR XDECO OF EMPLOYEE HOURS WORKED
         DC    4C' '  SPACES
OGROSS   DS    CL12   OUTPUT FIELD FOR XDECO OF EMPLOYEE GROSS PAY AMT
         DC    4C' '  SPACES
OFEDWH   DS    CL12   OUTPUT FIELD FOR XDECO OF FEDERAL WITHHOLDING AMT
         DC    5C' '  SPACES
OSTWH    DS    CL12   OUTPUT FIELD FOR XDECO OF STATE WITHHOLDING AMT
         DC    5C' '  SPACES
ONETPAY  DS    CL12   OUTPUT FIELD FOR XDECO OF EMPLOYEE NET PAY AMT
*
*  THE FOLLOWING IS THE INPUT RECORD BUFFER
*
BUFFER   DS    CL80   BUFFER FOR EMPLOYEE RECORD READ FROM INPUT FILE
*
         END   PAYROLL
/*
//*
//* THE FOLLOWING IS THE INPUT DATA SET
//*
//FT05F001 DD DSN=KC02322.CSCI360.DATASU21(DATA5),DISP=SHR
//*
//* THE FOLLOWING IS THE OUTPUT DATA SET
//*
//FT06F001 DD SYSOUT=*
//*
//* THE FOLLOWING IS THE OUTPUT DATA SET FOR MESSAGES
//